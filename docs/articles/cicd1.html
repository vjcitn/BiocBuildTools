<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Continuous integration and delivery approaches for Bioconductor • BiocBuildTools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Continuous integration and delivery approaches for Bioconductor">
<meta property="og:description" content="BiocBuildTools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-93043521-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93043521-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BiocBuildTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cicd1.html">Continuous integration and delivery approaches for Bioconductor</a>
    </li>
    <li>
      <a href="../articles/gcp.html">Binary package production for GCP/AnVIL</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/vjcitn/BiocBuildTools" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Continuous integration and delivery approaches for Bioconductor</h1>
                        <h4 data-toc-skip class="author">Vincent J. Carey, stvjc at channing.harvard.edu</h4>
            
            <h4 data-toc-skip class="date">November 16, 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/vjcitn/BiocBuildTools/blob/HEAD/vignettes/cicd1.Rmd" class="external-link"><code>vignettes/cicd1.Rmd</code></a></small>
      <div class="hidden name"><code>cicd1.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="basic-concepts">Basic concepts<a class="anchor" aria-label="anchor" href="#basic-concepts"></a>
</h2>
<div class="section level3">
<h3 id="release-and-devel-collections">Release and devel collections<a class="anchor" aria-label="anchor" href="#release-and-devel-collections"></a>
</h3>
<p>The Bioconductor project has fostered development and use of software for analysis of state-of-the-art genome-scale assays for almost two decades. The project has successfully addressed two conflicting objectives:</p>
<ul>
<li><p>Users require familiar and stable toolsets to perform analyses that may take years to complete.</p></li>
<li><p>Developers want to make use of cutting-edge innovations in biotechnology and computer science to build their tools.</p></li>
</ul>
<p>To achieve these objectives, it was recognized at the outset of the project that package management should emulate the process by which the R language evolves. A “release branch” is defined that constitutes a stable collection. Changes to packages in the release branch are permitted to address bugs or documentation shortfalls; otherwise, code in the release branch is considered permanently locked. Changes to packages in the “devel branch” can introduce new features. A change to a package in the devel branch that alters that package’s API in release must be staged: the “old” API components that are to be removed must remain available for one release in “deprecated” state, after which these components can be declared defunct and removed from functionality.</p>
<p>To accommodate the rapid pace of innovation in biotechnology, release branches of Bioconductor packages are produced every six months, transitioning from the current devel branch. For code from the devel branch to transition into release, formal tests must be passed.</p>
</div>
<div class="section level3">
<h3 id="implementation-of-release-and-devel-collections-in-git">Implementation of release and devel collections in git<a class="anchor" aria-label="anchor" href="#implementation-of-release-and-devel-collections-in-git"></a>
</h3>
<p>The ensemble of R packages managed and distributed in the Bioconductor project is a collection of git repositories. The “devel” version of each package is the “master” branch of the associated repository. The “release” version of each package is a formally tagged branch of the associated repository. The complete history of code changes to each package is preserved in the git log and branch tags of the form <code>RELEASE_X_Y</code> identify the various package releases.</p>
<p>In summary, each git repository for each Bioconductor package contains the history of modifications to source code and documentation, with the master branch providing the current devel image, and <code>RELEASE_X_Y</code> tagged branches providing past releases.</p>
</div>
</div>
<div class="section level2">
<h2 id="the-current-package-collections">The current package collections<a class="anchor" aria-label="anchor" href="#the-current-package-collections"></a>
</h2>
<p>Bioconductor has three main package types: software, annotation, and experiment. ‘Software’ packages primarily support analysis and visualization, ‘annotation’ packages provide reference information about genomes, genes, and other concepts of biology, and ‘experiment’ packages provide curated data and documentation for exemplary experiments.</p>
<p>To obtain the list of package names, we use the git repo git.bioconductor.org/admin/manifest, which has three text files with package names for each of the three types.</p>
</div>
<div class="section level2">
<h2 id="a-small-collection-for-illustration">A small collection for illustration<a class="anchor" aria-label="anchor" href="#a-small-collection-for-illustration"></a>
</h2>
<p>We identified a small group of packages and took a snapshot of the associated repositories.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vjcitn.github.io/BiocBuildTools/">BiocBuildTools</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/bioc_coreset.html">bioc_coreset</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "parody"        "vsn"           "BiocFileCache" "eds"</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bioc_coreset.html">bioc_coreset</a></span><span class="op">(</span>small<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "parody"        "vsn"           "BiocFileCache" "eds"</span></span></code></pre>
<p>In the following, we produce the folder.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">td</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">td</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"demo_srcs/litclone.zip"</span>, package<span class="op">=</span><span class="st">"BiocBuildTools"</span><span class="op">)</span>, exdir<span class="op">=</span><span class="va">td</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="self-testing">Self-testing<a class="anchor" aria-label="anchor" href="#self-testing"></a>
</h3>
<p>Bioconductor’s guidelines for contributions indicate that contributed packages must pass <code>R CMD check</code>, a constantly evolving procedure for assessing adequacy of package documentation and risks of error in package code.</p>
<p>We’ll use the <em><a href="https://CRAN.R-project.org/package=rcmdcheck" class="external-link">rcmdcheck</a></em> package to capture information on package compliance to basic standards. This runs <code>R CMD check</code> and organizes the message stream from that process.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chk_parody</span> <span class="op">=</span> <span class="fu">rcmdcheck</span><span class="fu">::</span><span class="fu"><a href="http://r-lib.github.io/rcmdcheck/reference/rcmdcheck.html" class="external-link">rcmdcheck</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">"/parody"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BBBB;">── R CMD build ─────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## * checking for file ‘.../DESCRIPTION’ ... OK</span></span>
<span><span class="co">## * preparing ‘parody’:</span></span>
<span><span class="co">## * checking DESCRIPTION meta-information ... OK</span></span>
<span><span class="co">## * installing the package to build vignettes</span></span>
<span><span class="co">## * creating vignettes ... OK</span></span>
<span><span class="co">## * checking for LF line-endings in source and make files and shell scripts</span></span>
<span><span class="co">## * checking for empty or unneeded directories</span></span>
<span><span class="co">## * looking to see if a ‘data/datalist’ file should be added</span></span>
<span><span class="co">## * building ‘parody_1.57.0.tar.gz’</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">── R CMD check ─────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## * using log directory ‘/tmp/Rtmp0TdWTn/file2d3b55f1aca5b/parody.Rcheck’</span></span>
<span><span class="co">## * using R Under development (unstable) (2022-10-04 r83017)</span></span>
<span><span class="co">## * using platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## * using session charset: UTF-8</span></span>
<span><span class="co">## * checking for file ‘parody/DESCRIPTION’ ... OK</span></span>
<span><span class="co">## * this is package ‘parody’ version ‘1.57.0’</span></span>
<span><span class="co">## * checking package namespace information ... OK</span></span>
<span><span class="co">## * checking package dependencies ... OK</span></span>
<span><span class="co">## * checking if this is a source package ... OK</span></span>
<span><span class="co">## * checking if there is a namespace ... OK</span></span>
<span><span class="co">## * checking for executable files ... OK</span></span>
<span><span class="co">## * checking for hidden files and directories ... OK</span></span>
<span><span class="co">## * checking for portable file names ... OK</span></span>
<span><span class="co">## * checking for sufficient/correct file permissions ... OK</span></span>
<span><span class="co">## * checking whether package ‘parody’ can be installed ... OK</span></span>
<span><span class="co">## * checking installed package size ... OK</span></span>
<span><span class="co">## * checking package directory ... OK</span></span>
<span><span class="co">## * checking ‘build’ directory ... OK</span></span>
<span><span class="co">## * checking DESCRIPTION meta-information ... OK</span></span>
<span><span class="co">## * checking top-level files ... OK</span></span>
<span><span class="co">## * checking for left-over files ... OK</span></span>
<span><span class="co">## * checking index information ... OK</span></span>
<span><span class="co">## * checking package subdirectories ... OK</span></span>
<span><span class="co">## * checking R files for non-ASCII characters ... OK</span></span>
<span><span class="co">## * checking R files for syntax errors ... OK</span></span>
<span><span class="co">## * checking whether the package can be loaded ... OK</span></span>
<span><span class="co">## * checking whether the package can be loaded with stated dependencies ... OK</span></span>
<span><span class="co">## * checking whether the package can be unloaded cleanly ... OK</span></span>
<span><span class="co">## * checking whether the namespace can be loaded with stated dependencies ... OK</span></span>
<span><span class="co">## * checking whether the namespace can be unloaded cleanly ... OK</span></span>
<span><span class="co">## * checking dependencies in R code ... OK</span></span>
<span><span class="co">## * checking S3 generic/method consistency ... OK</span></span>
<span><span class="co">## * checking replacement functions ... OK</span></span>
<span><span class="co">## * checking foreign function calls ... OK</span></span>
<span><span class="co">## * checking R code for possible problems ... OK</span></span>
<span><span class="co">## * checking Rd files ... OK</span></span>
<span><span class="co">## * checking Rd metadata ... OK</span></span>
<span><span class="co">## * checking Rd cross-references ... OK</span></span>
<span><span class="co">## * checking for missing documentation entries ... OK</span></span>
<span><span class="co">## * checking for code/documentation mismatches ... OK</span></span>
<span><span class="co">## * checking Rd \usage sections ... OK</span></span>
<span><span class="co">## * checking Rd contents ... OK</span></span>
<span><span class="co">## * checking for unstated dependencies in examples ... OK</span></span>
<span><span class="co">## * checking contents of ‘data’ directory ... OK</span></span>
<span><span class="co">## * checking data for non-ASCII characters ... OK</span></span>
<span><span class="co">## * checking data for ASCII and uncompressed saves ... OK</span></span>
<span><span class="co">## * checking installed files from ‘inst/doc’ ... OK</span></span>
<span><span class="co">## * checking files in ‘vignettes’ ... OK</span></span>
<span><span class="co">## * checking examples ... OK</span></span>
<span><span class="co">## * checking for unstated dependencies in ‘tests’ ... OK</span></span>
<span><span class="co">## * checking tests ...</span></span>
<span><span class="co">##   Running ‘test.R’</span></span>
<span><span class="co">##  OK</span></span>
<span><span class="co">## * checking for unstated dependencies in vignettes ... OK</span></span>
<span><span class="co">## * checking package vignettes in ‘inst/doc’ ... OK</span></span>
<span><span class="co">## * checking running R code from vignettes ...</span></span>
<span><span class="co">##   ‘parody.Rmd’ using ‘UTF-8’... OK</span></span>
<span><span class="co">##  NONE</span></span>
<span><span class="co">## * checking re-building of vignette outputs ... OK</span></span>
<span><span class="co">## * checking PDF version of manual ... OK</span></span>
<span><span class="co">## * DONE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Status: OK</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">chk_parody</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "stdout"       "stderr"       "status"       "duration"     "timeout"     </span></span>
<span><span class="co">##  [6] "rversion"     "platform"     "errors"       "warnings"     "notes"       </span></span>
<span><span class="co">## [11] "description"  "package"      "version"      "cran"         "bioc"        </span></span>
<span><span class="co">## [16] "checkdir"     "test_fail"    "test_output"  "install_out"  "session_info"</span></span>
<span><span class="co">## [21] "cleaner"</span></span></code></pre>
<p>The basic outcomes of a ‘passed’ check process are listed here:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>nerr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">chk_parody</span><span class="op">$</span><span class="va">errors</span><span class="op">)</span>,nwarn<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">chk_parody</span><span class="op">$</span><span class="va">warnings</span><span class="op">)</span>,</span>
<span>nnote<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">chk_parody</span><span class="op">$</span><span class="va">notes</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  nerr nwarn nnote </span></span>
<span><span class="co">##     0     0     0</span></span></code></pre>
<p>No error was detected, but a warning and several notes were reported. We will look at these in further detail below.</p>
</div>
<div class="section level3">
<h3 id="implicit-interoperability-testing">Implicit interoperability testing<a class="anchor" aria-label="anchor" href="#implicit-interoperability-testing"></a>
</h3>
<p>A goal of the core members of the Bioconductor project is the development of reusable infrastructure components that are employed by independent package contributors. Programming with common data structures and APIs simplifies development of chained workflows, and facilitates methods comparison and optimization. Reusable components can be analyzed for inefficiencies and improved to the benefit of the entire community of users and developers.</p>
<p>R packages declare interdependencies explicitly in the <code>DESCRIPTION</code> file. An example is</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dcf</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dcf.html" class="external-link">read.dcf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">"/vsn/DESCRIPTION"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">dcf</span><span class="op">[</span>,<span class="st">"Imports"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## affy, limma, lattice, ggplot2</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<p>The fields <code>Depends</code>, <code>Imports</code>, <code>Suggests</code> and <code>LinkingTo</code> define the independently maintained packages that must be available for <em><a href="https://bioconductor.org/packages/3.17/Rsamtools" class="external-link">Rsamtools</a></em> to work effectively. Details on these types of dependency are provided in <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html" class="external-link">Writing R Extensions</a>.</p>
<p>We can visualize the interdependencies of a small collection using <em><a href="https://bioconductor.org/packages/3.17/BiocPkgTools" class="external-link">BiocPkgTools</a></em>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/seandavi/BiocPkgTools" class="external-link">BiocPkgTools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vjcitn.github.io/BiocBuildTools/">BiocBuildTools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span><span class="va">dd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocPkgTools/man/buildPkgDependencyDataFrame.html" class="external-link">buildPkgDependencyDataFrame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">dfc</span> <span class="op">=</span> <span class="va">dd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Package</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="../reference/bioc_coreset.html">bioc_coreset</a></span><span class="op">(</span>small<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">dependency</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="../reference/bioc_coreset.html">bioc_coreset</a></span><span class="op">(</span>small<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">gg</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocPkgTools/man/buildPkgDependencyIgraph.html" class="external-link">buildPkgDependencyIgraph</a></span><span class="op">(</span><span class="va">dfc</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gg</span><span class="op">)</span></span></code></pre></div>
<p><img src="cicd1_files/figure-html/getg-1.png" width="700"></p>
<p>Some of the packages in the small set are isolated.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="../reference/bioc_coreset.html">bioc_coreset</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union</a></span><span class="op">(</span><span class="va">dfc</span><span class="op">$</span><span class="va">Package</span>, <span class="va">dfc</span><span class="op">$</span><span class="va">dependency</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "parody"        "vsn"           "BiocFileCache" "eds"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="supporting-developers-with-build-system-enhancements">Supporting developers with build system enhancements<a class="anchor" aria-label="anchor" href="#supporting-developers-with-build-system-enhancements"></a>
</h2>
<p>The current build system has functioned well as the software collection has grown from a few hundred to more than 1800 packages. The key resources for developers are</p>
<ul>
<li>daily builds and checks of all packages on Linux, Windows and macOS</li>
<li>reports of check process outcomes</li>
<li>simplified distribution of packages and all dependencies via <code><a href="https://rdrr.io/pkg/BiocManager/man/install.html" class="external-link">BiocManager::install</a></code>
</li>
<li>programmatic check for outdated packages via <code><a href="https://rdrr.io/pkg/BiocManager/man/valid.html" class="external-link">BiocManager::valid</a></code>
</li>
</ul>
<p>We propose to enhance these facilities by</p>
<ul>
<li>providing more structure in the check process report to guide developers towards quality improvements</li>
<li>adding information on self-testing and package interdependencies to check process reports</li>
<li>strengthening social coding practice by simplifying pull request production</li>
<li>making the build system platforms continuously available for developer testing</li>
</ul>
<p>The last aim will take considerable work and discussion is deferred.</p>
<div class="section level3">
<h3 id="improving-check-report-delivery">Improving check report delivery<a class="anchor" aria-label="anchor" href="#improving-check-report-delivery"></a>
</h3>
<p>Here is a screen shot of the <code>browse_checks</code> app in BiocBuildTools</p>
<p><img src="geoq.png"></p>
<p>We use pkgnet to generate network statistics and displays related to package and function dependencies.</p>
<p><img src="geoqnet.png"></p>
<p>TO DO:</p>
<ul>
<li>parse URL entry of DESCRIPTION and add ‘start a pull request’ at each relevant part of the report</li>
<li>ingest unit tests and add a tab that provides their source code</li>
<li>develop code coverage reports and convey them – this is probably to be done off line</li>
<li>other social coding support</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Vincent Carey.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
